name: create-responder
http:
  host: !concat [ "https://", !param SERVER localhost, ":4200" ]
  sharedConnections: 3
phases:
# `create` is the name of the single phase in this benchmark.
- create:
    # `atOnce` with `users: 1` results in running the scenario below just once
    atOnce:
      users: 1
      scenario:
      - new:
        - httpRequest:
            POST: /responder-service/responder
            headers:
              content-type: application/json
              accept: application/json
              user-agent: Hyperfoil
            body: |
              {
              "available":true,
              "boatCapacity":3,
              "enrolled":false,
              "latitude":34.12345,
              "longitude":-77.98765,
              "medicalKit":true,
              "name":"John Doe",
              "person":true,
              "phoneNumber":"111-222-333"
              }
            handler:
              status:
                range: 2xx
            sync: true
        - httpRequest:
            POST: /responder-service/responder
            headers:
              content-type: application/json
              accept: application/json
              user-agent: Hyperfoil
            body: |
              {
              "available":true,
              "boatCapacity":5,
              "enrolled":false,
              "latitude":34.12345,
              "longitude":-77.98765,
              "medicalKit":false,
              "name":"Jane Doe",
              "person":true,
              "phoneNumber":"444-555-666"
              }
            handler:
              status:
                range: 2xx
            sync: true
